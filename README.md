# Quick Login Manager - Chrome 擴充功能

一個簡單易用的 Chrome 擴充功能，幫助您快速管理和填入網站的帳號密碼。

## 功能特色

- ✅ **快速填入**: 一鍵填入已儲存的帳號密碼
- ✅ **網站管理**: 為不同網站儲存不同的登入資訊
- ✅ **自訂選擇器**: 支援設定特定的帳號/密碼輸入框選擇器
- ✅ **智慧偵測**: 自動偵測登入表單
- ✅ **安全儲存**: 使用 Chrome 同步儲存，資料跟隨帳號同步
- ✅ **簡潔介面**: 直觀的管理介面

## 安裝到 Chrome
1. 開啟 Chrome 瀏覽器
2. 造訪 `chrome://extensions/`
3. 開啟右上角的「開發人員模式」
4. 點擊「載入未封裝項目」
5. 選取專案資料夾
6. 擴充功能安裝完成！

## 使用方法

### 新增帳號
1. 點擊瀏覽器工具列中的擴充功能圖示
2. 切換到「新增」標籤頁
3. 填寫以下資訊：
   - **網站 URL**: 目標網站的網址
   - **使用者名稱**: 登入使用者名稱
   - **密碼**: 登入密碼
   - **使用者名稱選擇器**（可選）: CSS 選擇器，如 `#username`
   - **密碼選擇器**（可選）: CSS 選擇器，如 `#password`
4. 點擊「儲存帳號」

### 自動填入
1. 造訪已儲存帳號的網站
2. 點擊擴充功能圖示
3. 在「自動填入」標籤頁中選取要使用的帳號
4. 點擊「填入」按鈕

### 管理帳號
1. 在擴充功能彈出視窗中切換到「管理帳號」標籤頁
2. 可以檢視、編輯或刪除已儲存的帳號
3. 使用網站篩選器快速找到特定網站的帳號

## 進階功能

### 自訂選擇器
當網站使用特殊的表單結構時，您可以指定準確的 CSS 選擇器：

```css
/* 範例選擇器 */
#loginForm input[name="username"]
.login-container .user-input
div[data-testid="username-field"]
```

### 智慧偵測
擴充功能會自動偵測常見的登入表單欄位：
- `input[type="text"]`
- `input[type="email"]`
- `input[type="password"]`
- 包含 "user"、"email" 關鍵詞的欄位

## 安全性注意事項

- 🔒 **加密存儲**: 所有帳號密碼使用主金鑰加密後存儲
- 🔑 **主金鑰持久化**: 主金鑰採用裝置綁定加密，預設 8 小時有效期
- 🛡️ **裝置綁定**: 加密金鑰綁定特定裝置，無法跨裝置複製使用
- ⚠️ **共用裝置**: 不建議在共用或公共裝置上使用
- 🔄 **自動清理**: 主金鑰過期自動清除，確保長期安全

## 故障排除

### 擴充功能無法載入
- 確認所有檔案都在正確位置
- 檢查 `manifest.json` 語法是否正確
- 在開發者工具中檢視錯誤資訊

### 無法填入密碼
- 檢查網站是否使用了特殊的表單結構
- 嘗試設定自訂的 CSS 選擇器
- 確認帳號資訊已正確儲存

### 資料遺失
- 確保 Chrome 同步功能已開啟
- 檢查儲存配額是否已滿
- 嘗試重新安裝擴充功能

## 最新更新 (v1.1)

### 🔑 主金鑰持久化改進
- **持久存儲**: 主金鑰現在可以持久化存儲，解決 Service Worker 重啟問題
- **裝置綁定**: 使用裝置指紋加密，確保跨裝置安全
- **自動恢復**: Service Worker 重啟時自動恢復主金鑰
- **調試工具**: 設定頁面新增完整的主金鑰調試功能

### 🏗️ 代碼架構重構
- **共用函式庫**: 建立 `shared-crypto.js` 統一加密邏輯
- **消除重複**: 移除 `background.js` 和其他檔案的重複代碼
- **向後兼容**: 保持現有介面的兼容性

## 檔案結構

```
ChromeLogin/
├── manifest.json          # 擴充功能設定檔
├── popup.html             # 彈出視窗介面
├── popup-debug.js         # 彈出視窗邏輯（含調試功能）
├── content.js             # 頁面內容腳本
├── background.js          # 背景服務 (Service Worker)
├── shared-crypto.js       # 共用加密函式庫 ⭐ 新增
├── crypto.js              # 加密兼容包裝器
├── url-utils.js           # URL 工具函式
├── CLAUDE.md             # Claude Code 開發指南
├── icons/                 # 圖示資料夾
│   ├── icon.svg          # SVG 格式圖示
│   ├── icon16.png        # 16x16 圖示
│   ├── icon32.png        # 32x32 圖示
│   ├── icon48.png        # 48x48 圖示
│   └── icon128.png       # 128x128 圖示
└── README.md             # 說明文件
```

## 開發說明

此擴充功能使用 Manifest V3 規範開發，主要技術：
- Chrome Extensions API
- Chrome Storage API
- Content Scripts
- Service Worker

## 授權條款

此專案僅供學習和個人使用。

## 免責聲明

使用此擴充功能的風險由使用者自行承擔。開發者不對因使用此擴充功能而導致的任何損失負責。